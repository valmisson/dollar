var A=Object.defineProperty;var I=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var p=(e,t,a)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,c=(e,t)=>{for(var a in t||(t={}))R.call(t,a)&&p(e,a,t[a]);if(I)for(var a of I(t))N.call(t,a)&&p(e,a,t[a]);return e};var _=(e,t,a)=>(p(e,typeof t!="symbol"?t+"":t,a),a);import{d as h,r as u,a as f,w,o as S,t as m,c as g,b as U,v as O,e as n,p as L,f as F,g as $,n as C,h as d,i as E,j as V,k as y,l as b,m as z}from"./vendor.17acf3fd.js";const j=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}};j();var D=(e,t)=>{const a=e.__vccOpts||e;for(const[o,s]of t)a[o]=s;return a};const i="1,00",k=h({name:"InputDolar",setup(e,{emit:t}){const a=u(i),o=f({updateDollar(){const s=this.toDecimal(a.value);this.sendDollarTyped(s),a.value=s},selectValue(s){s.target.select()},toDecimal(s){let r=s;return r.length===0&&(r=i),r.split(",",1)[0]||(r=i),r.includes(",")||(r+=",00"),r.split(",",2)[1]||(r+="00"),r},sanitize(){let s=a.value;s.match(/^[0-9,.]+$/)||(s=s.slice(0,-1)),s.includes(".")&&(s=s.replace(/\./g,",")),s.replace(/[^,]/g,"").length>1&&(s=s.slice(0,-1)),a.value=s},sendDollarTyped(s){t("dollarTyped",s)}});return w(a,()=>o.sanitize()),S(()=>{o.sendDollarTyped(i)}),c({dollar:a},m(o))}}),q=e=>(L("data-v-0bebb27c"),e=e(),F(),e),B={class:"input__dolar"},M=q(()=>n("span",{class:"input--code"},"US$",-1)),P=["size"];function K(e,t,a,o,s,r){return $(),g("div",B,[M,U(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>e.dollar=l),onBlur:t[1]||(t[1]=(...l)=>e.updateDollar&&e.updateDollar(...l)),onFocus:t[2]||(t[2]=(...l)=>e.selectValue&&e.selectValue(...l)),size:e.dollar.length||4,class:"input--field"},null,40,P),[[O,e.dollar]])])}var G=D(k,[["render",K],["__scopeId","data-v-0bebb27c"]]),H="/dollar/assets/high.8fa52a4c.svg",J="/dollar/assets/low.4019d317.svg";const Q=h({name:"AppCurrency",props:{content:{type:Object,required:!0},code:{type:String,required:!0},dollarTyped:{type:String,default:"1,00",required:!0}},setup(e){const t=f({name:"",cash:0,pctChange:0,dollar:0,result:"0,00",state:"low",stateImg:o("low")}),a={USD:"D\xF3lar Comercial",USDT:"D\xF3lar Turismo"};function o(s){return new URL({"../assets/high.svg":H,"../assets/low.svg":J}[`../assets/${s}.svg`],self.location).href}return w(e,()=>{const{high:s,pctChange:r}=e.content[e.code];t.name=a[e.code],t.cash=parseFloat(s),t.pctChange=parseFloat(r),t.dollar=parseFloat(e.dollarTyped.replace(/,/,".")),t.result=(t.dollar*t.cash).toFixed(2).replace(/\./,","),t.state=t.pctChange>0?"high":"low",t.stateImg=o(t.state)}),c({},m(t))}}),W=e=>(L("data-v-26405362"),e=e(),F(),e),X={class:"currency"},Y={class:"currency__content"},Z={class:"currency__value"},x=W(()=>n("b",{class:"currency__code"},"R$",-1)),ee={class:"currency__var"},te=["src"],se={class:"currency__type"};function ae(e,t,a,o,s,r){return $(),g("div",X,[n("div",Y,[n("div",Z,[x,n("h2",{class:C(`currency__real is--${e.state}`)},d(e.result),3)]),n("div",ee,[n("span",{class:C(`currency__pct is--${e.state}`)},d(e.pctChange)+"%",3),U(n("span",{class:"currency__dollar"},d(e.cash.toFixed(2)),513),[[E,e.dollar!==1]])]),n("img",{src:e.stateImg,class:"currency__state",alt:"currency state"},null,8,te)]),n("p",se,d(e.name),1)])}var re=D(Q,[["render",ae],["__scopeId","data-v-26405362"]]);class v{static async load(){const{data:t}=await this.api.get(`/all/${this.codes.join()}`);return t}}_(v,"codes",["USD","USDT"]),_(v,"api",V.create({baseURL:"https://economia.awesomeapi.com.br/json"}));const oe=60,ne=h({name:"App",components:{InputDolar:G,Currency:re},setup(){const e=u(),t=u({}),a=u(),o=f({listenDollarTyped(s){e.value=s},async loadCurrency(){const s=await v.load();t.value=s},restartInterval(){clearInterval(a.value),a.value=setInterval(()=>{this.loadCurrency()},oe*1e3)}});return S(()=>{o.loadCurrency(),o.restartInterval()}),c({dollarTyped:e,currency:t,interval:a},m(o))}}),le={class:"container"},ce=n("h1",null,"Dollar",-1),de={class:"currencies"};function ie(e,t,a,o,s,r){const l=b("input-dolar"),T=b("currency");return $(),g("main",le,[ce,y(l,{onDollarTyped:e.listenDollarTyped},null,8,["onDollarTyped"]),n("section",de,[y(T,{content:e.currency,code:"USD",dollarTyped:e.dollarTyped},null,8,["content","dollarTyped"]),y(T,{content:e.currency,code:"USDT",dollarTyped:e.dollarTyped},null,8,["content","dollarTyped"])])])}var ue=D(ne,[["render",ie]]);z(ue).mount("#app");
